{"id":"ob-0m7","title":"Block interpreter eval flags in compute commands","description":"Validate that no compute command argument matches blocked interpreter flags: -c (python/bash inline), -e/--eval (node eval), -m (python module exec), --require/--import (node), -i (interactive). Trivial check but critical -- without it, allowlisting python3 is equivalent to allowing arbitrary code.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:27Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-0m7","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:17Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-0tq","title":"SECURITY: Resource limits missing for script build processes","status":"open","priority":0,"issue_type":"bug","owner":"michael@dopple.com","created_at":"2026-02-25T17:47:04Z","created_by":"michaelatdopple","updated_at":"2026-02-25T17:47:04Z"}
{"id":"ob-2f5","title":"Add compute delegation to Orbital","description":"Container agents need to delegate compute-intensive work (ONNX inference, data processing) to the host for hardware acceleration (Apple Silicon CoreML/ANE). Extend Orbital with a new 'compute' build type that reuses workspace rsync, SSE streaming, and artifact collection. Includes auto-venv management for Python deps and allowlisted command execution. Proving ground: item_index_builder.py taking 60+ min on container CPU vs projected 4-9 min on host.","notes":"Design doc: docs/plans/2026-02-27-compute-delegation-design.md","status":"closed","priority":1,"issue_type":"epic","owner":"michael@dopple.com","created_at":"2026-02-27T11:48:59Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:54:25Z","closed_at":"2026-02-27T15:54:25Z","close_reason":"All 11 subtasks complete. Compute delegation implemented with 6-layer security: sandbox-exec, minimal env, safe deps, command validation, flag blocking, artifact filtering, resource limits. Server (build.go, security.go, venv.go, workspace.go) + client (orbital-client cmd_compute). 17 passing tests."}
{"id":"ob-2s3","title":"Add venv.go - Python virtual environment manager","description":"New file venv.go with VenvManager struct. EnsureVenv creates/reuses cached venvs keyed by workspace hash + requirements content hash. Stored at ~/orbital-data/venvs/. ~120 lines.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T13:39:48Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:48:50Z","closed_at":"2026-02-27T15:48:50Z","close_reason":"VenvManager with EnsureVenv, EnsureNodeModules, and PruneStale methods. Uses safe install flags from ob-w0x.","dependencies":[{"issue_id":"ob-2s3","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T08:40:02Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-2s3","depends_on_id":"ob-w0x","type":"blocks","created_at":"2026-02-27T09:10:39Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-61r","title":"Add venv cleanup to workspace pruning loop","description":"Extend the hourly cleanup in workspace.go to prune venvs at ~/orbital-data/venvs/ that haven't been used in 14 days (check mtime of bin/activate). ~10 lines.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T13:39:56Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:51:51Z","closed_at":"2026-02-27T15:51:51Z","close_reason":"Added PruneStaleVenvs and PruneStaleNodeModules to workspace cleanup loop","dependencies":[{"issue_id":"ob-61r","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T08:40:04Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-61r","depends_on_id":"ob-2s3","type":"blocks","created_at":"2026-02-27T08:40:06Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-64r","title":"orbital status should filter to active builds by default","description":"Currently 'orbital status' dumps the full build history (139+ rows). For monitoring, the default should show only running/pending builds. Add --history or --all flag for the full table. This saves parsing effort for callers like liaison-check.","status":"open","priority":3,"issue_type":"bug","owner":"michael@dopple.com","created_at":"2026-02-21T19:03:49Z","created_by":"michaelatdopple","updated_at":"2026-02-21T19:03:49Z"}
{"id":"ob-6ih","title":"Add Xcode build support to Orbital","description":"Extend Orbital to delegate Xcode builds from Linux containers to the macOS host, mirroring the existing Gradle delegation pattern. Xcode is macOS-only so this is the only path for iOS builds from containers.\n\nKey work:\n- Add 'xcode' build type to server with scheme/destination validation\n- Add 'orbital xcode \u003cproject\u003e \u003cscheme\u003e [--destination ...]' client subcommand\n- Artifact collection for .app, .ipa, .xcarchive, .dSYM\n- Allowlist pod install / swift package resolve as pre-build commands\n- Map signing_profile to Xcode provisioning profiles / code signing identities\n- Xcode-specific security checks (build settings injection prevention)\n\nThe core protocol (HTTP + SSE streaming, workspace rsync, artifact management) is already build-system agnostic.\n\nMigrated from: claude-dev-dwl","status":"open","priority":2,"issue_type":"feature","owner":"michael@dopple.com","created_at":"2026-02-21T15:13:08Z","created_by":"michaelatdopple","updated_at":"2026-02-21T15:13:08Z"}
{"id":"ob-81j","title":"Add resource limits (ulimit) for compute processes","description":"Set RLIMIT_AS (8GB), RLIMIT_FSIZE (2GB), RLIMIT_NPROC (64) via setrlimit before exec. Prevents fork bombs, memory exhaustion, and disk filling by runaway or malicious compute scripts.","status":"closed","priority":2,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:32Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-81j","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:18Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-86c","title":"Add compute artifact type allowlist","description":"Compute artifacts use a separate ext allowlist from build artifacts: .usearch, .json, .csv, .bin, .onnx, .npy, .npz, .safetensors, .txt, .log. Explicitly exclude .py, .sh, .so, .dylib to prevent exfiltration disguised as artifacts.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:30Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-86c","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:18Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-bhl","title":"Add orbital compute command to orbital-client","description":"New cmd_compute() function in orbital-client bash script. Parses --requirements, --artifact-dir, --publish, --timeout. Reuses rsync, POST /build, SSE streaming, artifact copy. ~60 lines.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T13:39:54Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:54:12Z","closed_at":"2026-02-27T15:54:12Z","close_reason":"Added cmd_compute to orbital-client with --requirements, --artifact-dir, --publish flags. Reuses rsync, SSE streaming, artifact copy.","dependencies":[{"issue_id":"ob-bhl","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T08:40:04Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-bhl","depends_on_id":"ob-eay","type":"blocks","created_at":"2026-02-27T08:40:06Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-cl3","title":"SECURITY: Environment variable leakage exposes signing keys to all build scripts","status":"open","priority":0,"issue_type":"bug","owner":"michael@dopple.com","created_at":"2026-02-25T17:46:37Z","created_by":"michaelatdopple","updated_at":"2026-02-25T17:46:37Z"}
{"id":"ob-e4l","title":"SECURITY: Script builds run with unrestricted host network, bypassing container network security","status":"open","priority":0,"issue_type":"bug","owner":"michael@dopple.com","created_at":"2026-02-25T17:46:50Z","created_by":"michaelatdopple","updated_at":"2026-02-25T17:46:50Z"}
{"id":"ob-eay","title":"Add compute build type to build.go","description":"Extend runBuild() with compute branch: validate command against allowlist, call VenvManager if requirements specified, construct and execute command in workspace with venv activated, stream output via SSE. ~100 lines.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T13:39:50Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:51:52Z","closed_at":"2026-02-27T15:51:52Z","close_reason":"Added compute build type with sandbox-exec, minimal env, venv setup, resource limits, and type-filtered artifact collection","dependencies":[{"issue_id":"ob-eay","depends_on_id":"ob-0m7","type":"blocks","created_at":"2026-02-27T09:10:39Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T08:40:03Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-2s3","type":"blocks","created_at":"2026-02-27T08:40:05Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-86c","type":"blocks","created_at":"2026-02-27T09:10:40Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-g16","type":"blocks","created_at":"2026-02-27T08:40:06Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-ij2","type":"blocks","created_at":"2026-02-27T09:10:39Z","created_by":"michaelatdopple","metadata":"{}"},{"issue_id":"ob-eay","depends_on_id":"ob-p5q","type":"blocks","created_at":"2026-02-27T09:10:38Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-fpj","title":"Orbital: no way to sync out-of-tree dependencies","description":"Orbital only rsyncs the project directory to the host workspace. Relative paths escaping the project tree (e.g. ../../../love/crew/lovelace for LOVE_DIR) resolve to nothing on the host. Need a mechanism like orbital.includes manifest or --extra-sync-path to declare additional paths.\n\nWorkaround: copying .so files in-tree or using published/ artifacts.\n\nMigrated from: claude-dev-aqo","status":"open","priority":3,"issue_type":"feature","owner":"michael@dopple.com","created_at":"2026-02-21T15:13:15Z","created_by":"michaelatdopple","updated_at":"2026-02-21T15:13:15Z"}
{"id":"ob-g16","title":"Add compute security validation to security.go","description":"Add validateComputeRequest() with allowlisted commands (python3, node, bash), shell metacharacter rejection, path traversal checks, bash script-file-only rule. ~50 lines.","status":"closed","priority":1,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T13:39:52Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-g16","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T08:40:03Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-ij2","title":"Use minimal environment for compute processes","description":"Compute processes must NOT inherit os.Environ(). Build a minimal env: PATH (restricted), HOME=workspace, TMPDIR=scoped, LANG. No SIGNING_* secrets, no API keys, no real HOME. Prevents secret exfiltration even if sandbox is bypassed.","status":"closed","priority":0,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:21Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-ij2","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:16Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-p5q","title":"Sandbox compute processes with sandbox-exec","description":"All compute processes must run inside macOS sandbox-exec with a restrictive profile: deny default, allow read/write only workspace + venv + system libs, deny network, deny home dir access. This is the primary defense against LLM-generated scripts accessing host resources. Generate sandbox profile dynamically per-job with workspace/venv/tmp paths interpolated.","status":"closed","priority":0,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:20Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-p5q","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:16Z","created_by":"michaelatdopple","metadata":"{}"}]}
{"id":"ob-w0x","title":"Safe dependency installation: --only-binary and --ignore-scripts","description":"pip install must use --only-binary :all: to prevent setup.py execution during venv creation. npm install must use --ignore-scripts to block lifecycle scripts. Both prevent arbitrary code execution during dependency resolution. Update venv.go accordingly.","status":"closed","priority":0,"issue_type":"task","owner":"michael@dopple.com","created_at":"2026-02-27T14:10:24Z","created_by":"michaelatdopple","updated_at":"2026-02-27T15:47:00Z","closed_at":"2026-02-27T15:47:00Z","close_reason":"Implemented in security.go and venv.go with 17 passing tests","dependencies":[{"issue_id":"ob-w0x","depends_on_id":"ob-2f5","type":"parent-child","created_at":"2026-02-27T09:11:17Z","created_by":"michaelatdopple","metadata":"{}"}]}
